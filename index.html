<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Secure Payment</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 2rem; }
    label { display:block; margin:0.5rem 0 0.25rem; }
    input, select { width:100%; max-width:420px; padding:0.5rem; margin-bottom:0.5rem; }
    #status { font-size:0.9rem; color:#666; }
  </style>
</head>
<body>
  <h1>Complete Your Payment</h1>

  <form id="tmt-payment-form">
    <input type="hidden" class="tmt_booking_auth" id="tmt_booking_auth">
    <input type="hidden" class="tmt_booking_id" id="tmt_booking_id" value="0">
    <input type="hidden" class="tmt_channels" id="tmt_channels">
    <input type="hidden" class="tmt_currencies" id="tmt_currencies">
    <input type="hidden" class="tmt_total" id="tmt_total">
    <input type="hidden" class="tmt_reference" value="">
    <input type="hidden" class="tmt_description" value="Tamils on Tour Ski Trip 2026">
    <input type="hidden" class="tmt_pax" value="1">

    <!-- hidden fixed travel details -->
    <input type="hidden" id="tmt_country" class="tmt_country" value="FR">
    <input type="hidden" id="tmt_date" class="tmt_date" value="2026-03-10">
    

    <label for="tmt_firstname">Lead Traveller First Name</label>
    <input id="tmt_firstname" type="text" class="tmt_firstname" value="">

    <label for="tmt_surname">Lead Traveller Surname</label>
    <input id="tmt_surname" type="text" class="tmt_surname" value="">

    <label for="tmt_email">Lead Traveller Email</label>
    <input id="tmt_email" type="email" class="tmt_email" value="">

    <label for="tmt_payee_name">Cardholder Name</label>
    <input id="tmt_payee_name" type="text" class="tmt_payee_name" value="">

    <label for="tmt_payee_email">Cardholder Email</label>
    <input id="tmt_payee_email" type="email" class="tmt_payee_email" value="">

    <label for="tmt_payee_address">Cardholder Address</label>
    <input id="tmt_payee_address" type="text" class="tmt_payee_address" value="">

    <label for="tmt_payee_city">Cardholder City</label>
    <input id="tmt_payee_city" type="text" class="tmt_payee_city" value="">

    <label for="tmt_payee_postcode">Cardholder Postcode</label>
    <input id="tmt_payee_postcode" type="text" class="tmt_payee_postcode" value="">

    <label for="tmt_payee_country">Cardholder Country</label>
    <select id="tmt_payee_country" class="tmt_payee_country">
      <option value="GB" selected>United Kingdom</option>
      <option value="US">United States</option>
      <option value="AU">Australia</option>
    </select>

    <input type="submit" value="Pay Now">
  </form>

  <p id="status">Preparing secure payment session…</p>

  <script src="https://payment.tmtprotects.com/tmt-payment-modal.3.6.1.js"></script>
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    const params = new URLSearchParams(window.location.search);
    const auth = params.get('auth');
    const channels = params.get('channels');
    const currencies = params.get('currencies');
    const total = params.get('total');
    const reference = params.get('reference');

    document.getElementById('tmt_booking_auth').value = auth || '';
    document.getElementById('tmt_channels').value = channels || 21509;
    document.getElementById('tmt_currencies').value = currencies || 'GBP';
    document.getElementById('tmt_total').value = total || 500;
    document.getElementById('tmt_reference').value = reference || 'DEFAULT-REFERENCE';

  // confirm values
    console.log('Auth:', auth, 'Channels:', channels, 'Currencies:', currencies, 'Total:', total);

    window.tmtPaymentModalReady = function() {
      console.log('TMT SDK loaded and binding to form...');
      new window.tmtPaymentModalSdk({
        path: "tamils-on-tour", // use your exact Site Path
        formId: "tmt-payment-form",
        environment: "live",
        origin: "https://tamilsontour.github.io,https://tamilsontour.com"
      });
    document.getElementById('status').textContent = "Ready to pay.";
  };

  // Add a listener to confirm Pay Now click triggers form submission
  document.getElementById('tmt-payment-form').addEventListener('submit', function(e) {
    e.preventDefault();
    console.log('Form submitted – SDK should open modal now');
  });
});
  </script>
</body>
</html>













